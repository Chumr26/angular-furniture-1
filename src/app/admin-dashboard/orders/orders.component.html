<div class="custom-elevation">
  <div class="custom-toolbar">
    <span>Orders</span>
  </div>

  <!-- Form for creating or editing an order -->
  <form class="order-form" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="firstname">First Name:</label>
      <input
        id="firstname"
        type="text"
        [(ngModel)]="selectedOrder.firstname"
        name="firstname"
        required
      />
    </div>
    <div class="form-group">
      <label for="lastname">Last Name:</label>
      <input
        id="lastname"
        type="text"
        [(ngModel)]="selectedOrder.lastname"
        name="lastname"
        required
      />
    </div>
    <div class="form-group">
      <label for="street">Street:</label>
      <input
        id="street"
        type="text"
        [(ngModel)]="selectedOrder.street"
        name="street"
        required
      />
    </div>
    <div class="form-group">
      <label for="town">Town:</label>
      <input
        id="town"
        type="text"
        [(ngModel)]="selectedOrder.town"
        name="town"
        required
      />
    </div>
    <div class="form-group">
      <label for="postcode">Postcode:</label>
      <input
        id="postcode"
        type="text"
        [(ngModel)]="selectedOrder.postcode"
        name="postcode"
        required
      />
    </div>
    <div class="form-group">
      <label for="phone">Phone:</label>
      <input
        id="phone"
        type="text"
        [(ngModel)]="selectedOrder.phone"
        name="phone"
        required
      />
    </div>
    <div class="form-group">
      <label for="email">Email:</label>
      <input
        id="email"
        type="email"
        [(ngModel)]="selectedOrder.email"
        name="email"
        required
      />
    </div>
    <div class="form-group">
      <label for="products">Products:</label>
      <input
        id="products"
        type="text"
        [(ngModel)]="productsString"
        name="products"
        required
      />
    </div>
    <div class="form-group">
      <label for="additionalInfo">Additional Info:</label>
      <textarea
        id="additionalInfo"
        [(ngModel)]="selectedOrder.additionalInfo"
        name="additionalInfo"
      ></textarea>
    </div>
    <div class="form-group">
      <label for="totalPrice">Total Price:</label>
      <input
        id="totalPrice"
        type="number"
        [(ngModel)]="selectedOrder.totalPrice"
        name="totalPrice"
        required
      />
    </div>
    <button type="submit" class="btn btn-primary">
      {{ selectedOrder.orderId ? "Update Order" : "Create Order" }}
    </button>
  </form>

  <table class="custom-table">
    <thead>
      <tr>
        <th>Order ID</th>
        <th>Customer</th>
        <th>Email</th>
        <th>Total Price</th>
        <th>Date</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let order of orders">
        <td>{{ order.orderId }}</td>
        <td>{{ order.firstname }} {{ order.lastname }}</td>
        <td>{{ order.email }}</td>
        <td>{{ order.totalPrice }}</td>
        <td>{{ order.dateTime }}</td>
        <td>
          <button (click)="loadOrderDetails(order)">Edit</button>
          <button (click)="deleteOrder(order.orderId ?? '')">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
