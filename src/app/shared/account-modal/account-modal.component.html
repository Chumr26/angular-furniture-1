<div class="ct-panel-actions">
  <button
    (click)="toggleAccountModal()"
    class="ct-toggle-close"
    data-type="type-1"
    aria-label="Close account modal"
  >
    <svg class="ct-icon" width="12" height="12" viewBox="0 0 15 15">
      <path
        d="M1 15a1 1 0 01-.71-.29 1 1 0 010-1.41l5.8-5.8-5.8-5.8A1 1 0 011.7.29l5.8 5.8 5.8-5.8a1 1 0 011.41 1.41l-5.8 5.8 5.8 5.8a1 1 0 01-1.41 1.41l-5.8-5.8-5.8 5.8A1 1 0 011 15z"
      ></path>
    </svg>
  </button>
</div>

<div class="ct-panel-content">
  <div class="ct-account-modal" (click)="$event.stopPropagation()">
    <div class="ct-account-forms">
      <div class="ct-login-form active">
        @if(error) {
        <div class="ct-form-notification-error">
          <p>
            <strong>Error:</strong>
            {{
              isSignup ? "Password not match." : "Wrong username or password."
            }}
          </p>
        </div>
        }
        <form
          name="loginform"
          id="loginform"
          class="login"
          action="#"
          method="post"
        >
          <p>
            <label for="user_login">Username or Email Address</label>
            <input
              type="text"
              name="username"
              id="user_login"
              class="input"
              [(ngModel)]="email"
              size="20"
              autocomplete="username"
              autocapitalize="off"
            />
          </p>

          <p>
            <label for="user_pass">Password</label>
            <span class="account-password-input">
              <input
                [type]="showPassword ? 'text' : 'password'"
                name="pwd"
                id="user_pass"
                class="input"
                [(ngModel)]="password"
                size="20"
                autocomplete="current-password"
                spellcheck="false"
              />
              <span
                class="show-password-input"
                (click)="togglePasswordVisibility()"
              ></span>
            </span>
          </p>

          @if(isSignup) {
          <p>
            <label for="user_pass">Confirm Password</label>
            <span class="account-password-input">
              <input
                [type]="showPassword ? 'text' : 'password'"
                name="confirm_pwd"
                id="confirm_user_pass"
                class="input no-visibility-toggle"
                [(ngModel)]="conirmPassword"
                size="20"
                autocomplete="current-password"
                spellcheck="false"
              />
              <span
                class="show-password-input"
                (click)="togglePasswordVisibility()"
              ></span>
            </span>
          </p>
          }

          <p class="login-remember col-2">
            <a (click)="toggleSignUp()" class="ct-forgot-password">
              {{ isSignup ? "Log in" : "Sign up" }}</a
            >
          </p>

          <p class="login-submit">
            <button
              class="ct-button ct-account-login-submit has-text-align-center"
              name="wp-submit"
              (click)="isSignup ? signup() : login()"
            >
              {{ isSignup ? "Sign Up" : "Log In" }}
            </button>
          </p>
        </form>
      </div>

      <div class="ct-forgot-password-form">
        <form
          name="lostpasswordform"
          id="lostpasswordform"
          action="#"
          method="post"
        >
          <p>
            <label for="user_login_forgot">Username or Email Address</label>
            <input
              type="text"
              name="user_login"
              id="user_login_forgot"
              class="input"
              value=""
              size="20"
              autocomplete="username"
              autocapitalize="off"
              required=""
            />
          </p>

          <p>
            <button
              class="ct-button ct-account-lost-password-submit has-text-align-center"
              name="wp-submit"
            >
              Get New Password
            </button>
          </p>

          <input
            type="hidden"
            id="blocksy-lostpassword-nonce"
            name="blocksy-lostpassword-nonce"
            value="efa97dd823"
          /><input
            type="hidden"
            name="_wp_http_referer"
            value="/blocksy/furniture/my-account/woo-wish-list/"
          />
        </form>

        <a href="#" class="ct-back-to-login ct-login"> ‚Üê Back to login </a>
      </div>
    </div>
  </div>
</div>
